# ==========================
# Backend service variables
# ==========================

# Port the backend Express API listens on inside the container
API_PORT=8000

# Log verbosity for backend (e.g., trace|debug|info|warn|error)
LOG_LEVEL=info

# MongoDB connection string (use service name inside compose network)
MONGO_URI=mongodb://mongo:27017

# MongoDB database name used by the app
MONGO_DB=rag

# Qdrant vector DB URL (service name inside compose network)
QDRANT_URL=http://qdrant:6333

# Redis connection string (service name inside compose network)
REDIS_URL=redis://redis:6379

# Base URL for Ollama server. Default uses host.docker.internal; override if needed
# On Linux, compose adds extra_hosts so host.docker.internal resolves to host-gateway
OLLAMA_BASE_URL=http://host.docker.internal:11434

# When true, backend readiness check will not fail if Ollama is unavailable
SKIP_OLLAMA_READY_CHECK=true

# URL for embedder microservice (service name inside compose network)
EMBEDDER_URL=http://embedder:9100

# Rate limit window (ms) and max requests per window per IP
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=120


# ==========================
# Embedder service variables
# ==========================

# Comma-separated list of allowed origins for CORS; * allows all (dev only)
EMBEDDER_CORS_ORIGINS=*

# Maximum number of pages to read from a PDF
EMBEDDER_MAX_PAGES=80

# Maximum total characters to extract across all pages
EMBEDDER_MAX_TOTAL_CHARS=2000000

# Safety cap on number of text chunks produced
EMBEDDER_MAX_CHUNKS=4000


# ==========================
# Frontend (build-time) variables
# ==========================

# Base URL for API endpoints used by the frontend, includes /api/v1 path
VITE_API_BASE=http://localhost:8000/api/v1

# Base service URL for health endpoints (no path)
VITE_SERVICE_BASE=http://localhost:8000

# Base URL to query the embedder health (no path suffix needed)
VITE_EMBEDDER_BASE=http://localhost:9100